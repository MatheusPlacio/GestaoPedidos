{"ast":null,"code":"import { StatusPedido } from '../../models/pedido.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nfunction PedidosComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1, \" Carregando pedidos... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PedidosComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function PedidosComponent_div_4_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.carregarPedidos());\n    });\n    i0.ɵɵtext(3, \"Tentar Novamente\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.erro, \" \");\n  }\n}\nfunction PedidosComponent_div_5_div_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"span\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 24);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 26);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 27);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r10.produtoNome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"SKU: \", item_r10.produtoSku, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Qtd: \", item_r10.quantidade, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.formatarPreco(item_r10.precoUnitario), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.formatarPreco(item_r10.totalItem), \" \");\n  }\n}\nfunction PedidosComponent_div_5_div_1_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"span\");\n    i0.ɵɵtext(2, \"Desconto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 28);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pedido_r7 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"-\", ctx_r9.formatarPreco(pedido_r7.desconto), \"\");\n  }\n}\nfunction PedidosComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 14);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 15)(10, \"h4\");\n    i0.ɵɵtext(11, \"Itens do Pedido:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, PedidosComponent_div_5_div_1_div_12_Template, 12, 5, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 17)(14, \"div\", 18)(15, \"span\");\n    i0.ɵɵtext(16, \"Total Bruto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, PedidosComponent_div_5_div_1_div_19_Template, 5, 1, \"div\", 19);\n    i0.ɵɵelementStart(20, \"div\", 20)(21, \"span\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Total L\\u00EDquido:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"span\")(25, \"strong\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const pedido_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Pedido \", pedido_r7.numero, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r6.obterClasseStatus(pedido_r7.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.obterStatusTexto(pedido_r7.status), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.formatarData(pedido_r7.criadoEm), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", pedido_r7.itens);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r6.formatarPreco(pedido_r7.totalBruto));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pedido_r7.desconto > 0);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r6.formatarPreco(pedido_r7.totalLiquido));\n  }\n}\nfunction PedidosComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, PedidosComponent_div_5_div_1_Template, 27, 8, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.pedidos);\n  }\n}\nfunction PedidosComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \" Nenhum pedido encontrado. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let PedidosComponent = /*#__PURE__*/(() => {\n  class PedidosComponent {\n    constructor(apiService) {\n      this.apiService = apiService;\n      this.pedidos = [];\n      this.carregando = false;\n      this.erro = '';\n      this.pedidoDetalhes = null;\n      this.mostrarDetalhes = false;\n    }\n    ngOnInit() {\n      this.carregarPedidos();\n    }\n    carregarPedidos() {\n      this.carregando = true;\n      this.erro = '';\n      this.apiService.obterPedidos().subscribe({\n        next: resultado => {\n          if (resultado.sucesso) {\n            this.pedidos = resultado.dados;\n          } else {\n            this.erro = resultado.mensagem;\n          }\n          this.carregando = false;\n        },\n        error: error => {\n          this.erro = 'Erro ao carregar pedidos: ' + error.message;\n          this.carregando = false;\n        }\n      });\n    }\n    verDetalhes(pedido) {\n      this.pedidoDetalhes = pedido;\n      this.mostrarDetalhes = true;\n    }\n    fecharDetalhes() {\n      this.mostrarDetalhes = false;\n      this.pedidoDetalhes = null;\n    }\n    formatarPreco(preco) {\n      return preco.toLocaleString('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      });\n    }\n    formatarData(data) {\n      return new Date(data).toLocaleString('pt-BR');\n    }\n    obterStatusTexto(status) {\n      switch (status) {\n        case StatusPedido.Rascunho:\n          return 'Rascunho';\n        case StatusPedido.Confirmado:\n          return 'Confirmado';\n        case StatusPedido.Cancelado:\n          return 'Cancelado';\n        case StatusPedido.Faturado:\n          return 'Faturado';\n        default:\n          return 'Desconhecido';\n      }\n    }\n    obterClasseStatus(status) {\n      switch (status) {\n        case StatusPedido.Rascunho:\n          return 'status-rascunho';\n        case StatusPedido.Confirmado:\n          return 'status-confirmado';\n        case StatusPedido.Cancelado:\n          return 'status-cancelado';\n        case StatusPedido.Faturado:\n          return 'status-faturado';\n        default:\n          return '';\n      }\n    }\n    static {\n      this.ɵfac = function PedidosComponent_Factory(t) {\n        return new (t || PedidosComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PedidosComponent,\n        selectors: [[\"app-pedidos\"]],\n        decls: 7,\n        vars: 4,\n        consts: [[1, \"pedidos-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"pedidos-lista\", 4, \"ngIf\"], [\"class\", \"empty\", 4, \"ngIf\"], [1, \"loading\"], [1, \"error\"], [3, \"click\"], [1, \"pedidos-lista\"], [\"class\", \"pedido-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"pedido-card\"], [1, \"pedido-header\"], [1, \"pedido-numero\"], [1, \"status\", 3, \"ngClass\"], [1, \"pedido-data\"], [1, \"pedido-itens\"], [\"class\", \"item\", 4, \"ngFor\", \"ngForOf\"], [1, \"pedido-totais\"], [1, \"total-linha\"], [\"class\", \"total-linha\", 4, \"ngIf\"], [1, \"total-linha\", \"total-final\"], [1, \"item\"], [1, \"item-info\"], [1, \"item-nome\"], [1, \"item-sku\"], [1, \"item-quantidade\"], [1, \"item-preco\"], [1, \"item-total\"], [1, \"desconto\"], [1, \"empty\"]],\n        template: function PedidosComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Meus Pedidos\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, PedidosComponent_div_3_Template, 2, 0, \"div\", 1);\n            i0.ɵɵtemplate(4, PedidosComponent_div_4_Template, 4, 1, \"div\", 2);\n            i0.ɵɵtemplate(5, PedidosComponent_div_5_Template, 2, 1, \"div\", 3);\n            i0.ɵɵtemplate(6, PedidosComponent_div_6_Template, 2, 0, \"div\", 4);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.carregando);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.erro);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.carregando && !ctx.erro);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.pedidos.length === 0 && !ctx.carregando && !ctx.erro);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n        styles: [\".pedidos-container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:30px;text-align:center}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]{text-align:center;padding:40px;font-size:18px}.error[_ngcontent-%COMP%]{color:#d32f2f;background-color:#ffebee;border-radius:8px;margin:20px 0}.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;background-color:#d32f2f;color:#fff;border:none;border-radius:4px;cursor:pointer}.error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#b71c1c}.pedidos-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.pedido-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;background-color:#fff;box-shadow:0 2px 4px #0000001a}.pedido-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #eee}.pedido-numero[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 5px;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:700;text-transform:uppercase}.status-rascunho[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.status-confirmado[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.status-cancelado[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.status-faturado[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.pedido-data[_ngcontent-%COMP%]{color:#666;font-size:14px}.pedido-itens[_ngcontent-%COMP%]{margin-bottom:20px}.pedido-itens[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:16px}.item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:15px;align-items:center;padding:10px;border-bottom:1px solid #f0f0f0}.item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.item-nome[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:4px}.item-sku[_ngcontent-%COMP%]{font-size:12px;color:#666}.item-quantidade[_ngcontent-%COMP%], .item-preco[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%]{text-align:right;font-weight:500}.item-preco[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%]{color:#2e7d32}.pedido-totais[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:15px;border-radius:6px;border-top:2px solid #1976d2}.total-linha[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.total-linha[_ngcontent-%COMP%]:last-child{margin-bottom:0}.total-final[_ngcontent-%COMP%]{padding-top:8px;border-top:1px solid #ddd;font-size:16px}.desconto[_ngcontent-%COMP%]{color:#d32f2f}@media (max-width: 768px){.pedido-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px;text-align:left}.item-quantidade[_ngcontent-%COMP%], .item-preco[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%]{text-align:left}.pedidos-container[_ngcontent-%COMP%]{padding:15px}}\"]\n      });\n    }\n  }\n  return PedidosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}